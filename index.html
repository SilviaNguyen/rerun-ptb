<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silvia's Pallete - Win95 Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="overall-container win95-window">
        <div class="win95-title-bar">
            <span class="win95-title-bar-text">Silvia's Pallete - Win95 Cam</span>
            <div class="win95-title-bar-controls">
                <button class="win95-button title-bar-button" aria-label="Minimize" disabled>_</button>
                <button class="win95-button title-bar-button" aria-label="Maximize" disabled>&#9633;</button>
                <button class="win95-button title-bar-button" aria-label="Close" disabled>X</button>
            </div>
        </div>

        <div class="main-grid-container">
            <div id="grid-item-camera-preview" class="grid-item win95-group-box" data-title="Camera Preview">
                <div class="video-container">
                    <video id="video" autoplay playsinline></video>
                    <div id="countdown"></div>
                </div>
                <div class="filter-preview-minimal">
                    <div class="filter-option selected win95-button" data-filter="none">
                        <img id="preview-none" alt="Normal">
                        <div class="filter-label">Normal</div>
                    </div>
                </div>
            </div>

            <div id="grid-item-take-photo" class="grid-item no-padding">
                <button id="captureBtn" class="grid-button win95-button full-height-button">Take Photo</button>
            </div>

            <div id="grid-item-timer" class="grid-item no-padding">
                <button id="timerBtn" class="grid-button win95-button full-height-button">3s Timer</button>
            </div>

            <div id="grid-item-download-clear" class="grid-item no-padding">
                <button id="downloadBtn" class="grid-button win95-button full-height-button" disabled>Download All</button>
                <button id="clearBtn" class="grid-button win95-button full-height-button" disabled>Clear All</button>
            </div>

            <div id="grid-item-collage-preview" class="grid-item win95-group-box" data-title="Collage Preview">
                <canvas id="liveCollagePreviewCanvas"></canvas>
                <div id="collageStatus" class="win95-status-bar-field">áº¢nh 1 / 4</div>
            </div>

            <div id="grid-item-photo-layout" class="grid-item win95-group-box" data-title="Photo Layout">
                <div class="collage-layout-section">
                    <div class="layout-options">
                        <button id="start1x1" class="win95-button layout-icon-button" title="1 Photo">
                            <svg viewBox="0 0 24 24"><rect x="5" y="5" width="14" height="14" stroke-width="2" fill="none"/></svg>
                        </button>
                        <button id="start1x2" class="win95-button layout-icon-button" title="2 Photos (1 Column)">
                            <svg viewBox="0 0 24 24"><rect x="7" y="3" width="10" height="8" stroke-width="1.5" fill="none"/><rect x="7" y="13" width="10" height="8" stroke-width="1.5" fill="none"/></svg>
                        </button>
                        <button id="start1x3" class="win95-button layout-icon-button" title="3 Photos (1 Column)">
                            <svg viewBox="0 0 24 24"><rect x="8" y="2" width="8" height="6" stroke-width="1.2" fill="none"/><rect x="8" y="9" width="8" height="6" stroke-width="1.2" fill="none"/><rect x="8" y="16" width="8" height="6" stroke-width="1.2" fill="none"/></svg>
                        </button>
                        <button id="start1x4" class="win95-button layout-icon-button" title="4 Photos (1 Column)">
                            <svg viewBox="0 0 24 24"><rect x="8" y="1" width="8" height="4.5" stroke-width="1" fill="none"/><rect x="8" y="6.5" width="8" height="4.5" stroke-width="1" fill="none"/><rect x="8" y="12" width="8" height="4.5" stroke-width="1" fill="none"/><rect x="8" y="17.5" width="8" height="4.5" stroke-width="1" fill="none"/></svg>
                        </button>
                        <button id="start2x2" class="win95-button layout-icon-button" title="4 Photos (2x2)">
                            <svg viewBox="0 0 24 24"><rect x="3" y="3" width="8" height="8" stroke-width="1.5" fill="none"/><rect x="13" y="3" width="8" height="8" stroke-width="1.5" fill="none"/><rect x="3" y="13" width="8" height="8" stroke-width="1.5" fill="none"/><rect x="13" y="13" width="8" height="8" stroke-width="1.5" fill="none"/></svg>
                        </button>
                        <button id="start2x3" class="win95-button layout-icon-button" title="6 Photos (2x3)">
                             <svg viewBox="0 0 24 24"><rect x="3" y="2" width="8" height="6" stroke-width="1.2" fill="none"/><rect x="13" y="2" width="8" height="6" stroke-width="1.2" fill="none"/><rect x="3" y="9" width="8" height="6" stroke-width="1.2" fill="none"/><rect x="13" y="9" width="8" height="6" stroke-width="1.2" fill="none"/><rect x="3" y="16" width="8" height="6" stroke-width="1.2" fill="none"/><rect x="13" y="16" width="8" height="6" stroke-width="1.2" fill="none"/></svg>
                        </button>
                    </div>
                </div>
            </div>

            <div id="grid-item-theme-color" class="grid-item win95-group-box" data-title="Theme Color">
                <div class="collage-theme-section">
                    <div class="theme-options">
                        <div class="theme-option theme-navy" data-theme="navy" title="Dark Blue"></div>
                        <div class="theme-option theme-pink" data-theme="pink" title="Teal"></div>
                        <div class="theme-option theme-blue" data-theme="blue" title="Light Beige"></div>
                        <div class="theme-option theme-yellow" data-theme="yellow" title="Peach"></div>
                        <div class="theme-option theme-purple" data-theme="purple" title="Orange/Red"></div>
                        <div class="theme-option theme-green" data-theme="green" title="Darker Teal"></div>
                        <div class="theme-option theme-teal" data-theme="teal" title="Darker Peach"></div>
                        <div class="theme-option theme-coral" data-theme="coral" title="Darker Orange/Red"></div>
                        <div class="theme-option theme-silver" data-theme="silver" title="Muted Beige"></div>
                        <div class="theme-option theme-gold" data-theme="gold" title="Muted Blue"></div>
                        
                        <div id="customColorPickerButton" class="custom-color-picker-button win95-button" title="Custom Color">
                            ðŸŽ¨
                        </div>
                        <input type="color" id="themeColorPicker">
                    </div>
                </div>
            </div>

            <div id="grid-item-custom-background" class="grid-item win95-group-box" data-title="Custom Background">
                <div class="custom-background-section">
                    <div class="custom-bg-options">
                         <div id="customBgPreviewContainer" title="Click to choose custom background image">
                            <img id="customBgPreviewImage" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='none' stroke='%23000' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='3' width='18' height='18' rx='2' ry='2'/%3E%3Ccircle cx='8.5' cy='8.5' r='1.5'/%3E%3Cpolyline points='21 15 16 10 5 21'/%3E%3C/svg%3E" alt="Custom BG Preview">
                        </div>
                        <button id="triggerCustomBgInput" class="win95-button">Choose...</button>
                        <button id="clearCustomBg" class="win95-button" style="display:none;">Clear</button>
                    </div>
                    <input type="file" id="customBgInput" accept="image/*">
                </div>
            </div>

            <div id="grid-item-grayscale-filter" class="grid-item win95-group-box" data-title="Filter">
                 <div class="filter-option win95-button" data-filter="grayscale" id="grayscaleFilterStandalone">
                    <img id="preview-grayscale" alt="Grayscale">
                    <div class="filter-label">Grayscale</div>
                </div>
            </div>
        </div>
        
        <div class="photo-gallery-container win95-group-box" data-title="Captured Photos & Collages">
            <div class="photo-gallery" id="photoGallery">
            </div>
        </div>
        
        <canvas id="mainCanvas"></canvas> 
        <div class="flash" id="flash"></div>

        <div class="win95-status-bar">
            <div class="win95-status-bar-field" id="appStatusMessage">Ready</div>
            <div class="win95-status-bar-field" id="currentTime"></div>
        </div>
    </div>
    
    <script src="index4.js"></script>
</body>
</html>
